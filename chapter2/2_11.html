<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>

	<head>
		<meta http-equiv="content-type" content="text/html;charset=windows-1251">
		<meta name="Description" content="K&R, 1st ed., 1978. Russian translation by <unknown>; chm-compiling by Sim&C, Belarus`2006">
   		<title>2.11 Условные выражения</title>
		<link href="../style.css" rel="stylesheet" type="text/css" media="all">
	</head>

	<body>
	<script  language=JavaScript  src="../header.js"></script>
		<p>Операторы</p>
		<blockquote>
			<pre>if (a > b)
  z = a;
else
  z = b;</pre>
		</blockquote>
		<p>конечно вычисляют в z максимум из a и b. Условное выражение, записанное с помощью тернарной операции "?:", предоставляет другую возможность для записи этой и аналогичных конструкций. В выражении</p>
		<blockquote>
			<pre>е1 ? е2 : е3</pre>
		</blockquote>
		<p>сначала вычисляется выражение е1. Если оно отлично от нуля (истинно), то вычисляется выражение е2, которое и становится значением условного выражения. В противном случае вычисляется е3, и оно становится значением условного выражения. Каждый раз вычисляется только одно из выражения е2 и е3. Таким образом, чтобы положить Z равным максимуму из а и в, можно написать</p>
		<blockquote>
			<pre>z = (a &gt; b) ? a : b;  /* z = max(a,b) */</pre>
		</blockquote>
		<p>Следует подчеркнуть, что условное выражение действительно является выражением и может использоваться точно так же, как любое другое выражение. Если е2 и е3 имеют разные типы, то тип результата определяется по правилам преобразования, рассмотренным ранее в этой главе. Например, если f имеет тип float, а n - тип int, то выражение</p>
		<blockquote>
			<pre>(n > 0) ? f : n</pre>
		</blockquote>

<p>имеет тип double независимо от того, положительно ли n или нет.</p>
<p>Так как уровень старшинства операции ?: очень низок, прямо над присваиванием, то первое выражение в условном выражении можно не заключать в круглые скобки. Однако, мы все же рекомендуем это делать, так как скобки делают условную часть выражения более заметной.</p>
		<p>Использование условных выражений часто приводит к коротким программам. Например, следующий ниже оператор цикла печатает n элементов массива, по 10 в строке, разделяя каждый столбец одним пробелом и заканчивая каждую строку (включая последнюю) одним символом перевода строки.</p>
		<blockquote>
			<pre>for (i = 0; i &lt; n; i++)
  printf("%6d%c",a[i],(i%10==9 || i==n-1) ? '\n' : ' ')</pre>
		</blockquote>
		<p>Символ перевода строки записывается после каждого десятого элемента и после n-го элемента. За всеми остальными элементами следует один пробел. Хотя, возможно, это выглядит мудреным, было бы поучительным попытаться записать это, не используя условного выражения.</p>
		<div class="exercise">
			<p><span class="exercisetitle">Упражнение 2-10</span></p>
			<p>Перепишите программу для функции lower, которая переводит прописные буквы в строчные, используя вместо конструкции if-else условное выражение.</p>
		</div>
		<script  language=JavaScript  src="../footer.js"></script>
	</body>
	
</html>