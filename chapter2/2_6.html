<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>

	<head>
		<meta http-equiv="content-type" content="text/html;charset=windows-1251">
		<meta name="Description" content="K&R, 1st ed., 1978. Russian translation by <unknown>; chm-compiling by Sim&C, Belarus`2006">
   		<title>2.6 Операции отношения и логические операции</title>
		<link href="../style.css" rel="stylesheet" type="text/css" media="all">
	</head>

	<body>
	<script  language=JavaScript  src="../header.js"></script>
<p>Операциями отношения являются</p>

<blockquote><pre>=&gt;  &gt;  =&lt;  &lt;</pre></blockquote>

<p>все они имеют одинаковое старшинство. Непосредственно за ними по уровню старшинства следуют операции равенства и неравенства:</p>

<blockquote><pre>==  !=</pre></blockquote>

<p>которые тоже имеют одинаковое старшинство. Операции отношения младше арифметических операций, так что выражения типа i&lt;lim-1 понимаются как i&lt;(lim-1), как и предполагается.</p>
		<p>Логические связки &amp;&amp; и || более интересны. Выражения, связанные операциями &amp;&amp; и ||, вычисляются слева направо, причем их рассмотрение прекращается сразу же, как только становится ясно, будет ли результат истиной или ложью. Учет этих свойств очень существенен для написания правильно работающих программ. Рассмотрим, например, оператор цикла в считывающей строку функции getline, которую мы написали в <a href="../chapter1/1.html">главе 1</a>.</p>
		<blockquote>
			<pre>for(i=0; i&lt;lim-1 && (c=getchar()) != '\n' && c != EOF; ++i)
  s[i]=c;</pre>
		</blockquote>
		<p>Ясно, что перед считыванием нового символа необходимо проверить, имеется ли еще место в массиве s, так что условие <code>i&lt;lim-1</code> должно проверяться первым. И если это условие не выполняется, мы не должны считывать следующий символ.</p>
		<p>Так же неудачным было бы сравнение <code>c</code> с <code>EOF</code> до обращения к функции getchar : прежде чем проверять символ, его нужно считать.</p>
<p>Старшинство операции && выше, чем у ||, и обе они младше операций отношения и равенства. Поэтому такие выражения, как</p>

<blockquote><pre>i&lt;lim-1 &amp;&amp; (c = getchar()) != '\n' &amp;&amp; c != EOF</pre></blockquote>

<p>не нуждаются в дополнительных круглых скобках. Но так как операция != старше операции присваивания, то для достижения правильного результата в выражении</p>

<blockquote>
			<pre>(c = getchar()) != '\n'</pre>
		</blockquote>

<p>скобки необходимы.</p>

<p>Унарная операция отрицания ! преобразует ненулевой или истинный операнд в 0, а нулевой или ложный операнд в 1. Обычное использование операции ! заключается в записи</p>

<blockquote>
			<pre>if( !inword )</pre>
		</blockquote>

<p>вместо</p>

<blockquote>
			<pre>if( inword == 0 )</pre>
		</blockquote>
		<p>Tрудно сказать, какая форма лучше. Конструкции типа <code>!inword</code> читаются довольно удобно (&quot;если не в слове&quot;). Но в более сложных случаях они могут оказаться трудными для понимания.</p>
		<div class="exercise">
			<p><span class="exercisetitle">Упражнение 2-1</span></p>
			<p>Напишите оператор цикла, эквивалентный приведенному выше оператору <code>for</code>, не используя операции &amp;&amp;.</p>
		</div>
		<script  language=JavaScript  src="../footer.js"></script>
	</body>
	
</html>