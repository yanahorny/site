<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>

	<head>
		<meta http-equiv="content-type" content="text/html;charset=windows-1251">
		<meta name="Description" content="K&R, 1st ed., 1978. Russian translation by <unknown>; chm-compiling by Sim&C, Belarus`2006">
   		<title>5.9 »нициализаци€ массивов указателей</title>
		<link href="../style.css" rel="stylesheet" type="text/css" media="all">
	</head>

	<body>
	<script  language=JavaScript  src="../header.js"></script>
	<pre>    –ассмотрим задачу написани€ функции month_name(n), кото-
ра€ возвращает указатель на символьную строку, содержащую
им€ n-го мес€ца. Ёто идеальна€ задача дл€ применени€ внут-
реннего статического массива. ‘ункци€ month_name содержит
локальный массив символьных строк и при обращении к ней воз-
вращает указатель нужной строки. “ема насто€щего раздела -
как инициализировать этот массив имен.

char *month_name(n) /* return name of n-th month */
int n;
{
  static char *name[] = {
    "illegal month",
    "january",
    "february",
    "march",
    "april",
    "may",
    "jun",
    "july",
    "august",
    "september",
    "october",
    "november",
    "december"
  };
  return ((n &lt; 1 || n > 12) ? name[0] : name[n]);
}

ќписание массива указателей на символы name точно такое же,
как аналогичное описание lineptr в примере с сортировкой.
»нициализатором €вл€етс€ просто список символьных строк;
кажда€ строка присваиваетс€ соответствующей позиции в масси-
ве. Ѕолее точно, символы i-ой строки помещаютс€ в какое-то
иное место, а ее указатель хранитс€ в name[i]. ѕоскольку
размер массива name не указан, компил€тор сам подсчитывает
количество инициализаторов и соответственно устанавливает
правильное число.
</pre>
	<script  language=JavaScript  src="../footer.js"></script>
	</body>
	
</html>
