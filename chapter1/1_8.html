<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>

	<head>
		<meta http-equiv="content-type" content="text/html;charset=windows-1251">
		<meta name="Description" content="K&R, 1st ed., 1978. Russian translation by <unknown>; chm-compiling by Sim&C, Belarus`2006">
   		<title>1.8 Аргументы - вызов по значению</title>
		<link href="../style.css" rel="stylesheet" type="text/css" media="all">
	</head>

	<body>
	<script  language=JavaScript  src="../header.js"></script>
<p>Один аспект в C может оказаться непривычным для программистов, которые использовали другие языки, в частности, Фортран и PL/1. в языке C все аргументы функций передаются "по значению". Это означает, что вызванная функция получает значения своих аргументов с помощью временных переменных (фактически через стек), а не их адреса. Это приводит к некоторым особенностям, отличным от тех, с которыми мы сталкивались в языках типа Фортрана и PL/1, использующих "вызов по ссылке", где вызванная процедура работает с адресом аргумента, а не с его значением.</p>
<p>Главное отличие состоит в том, что в C вызванная функция не может изменить переменную из вызывающей функции; она может менять только свою собственную временную копию.</p>
		<p>Вызов по значению, однако, не помеха, а весьма ценное качество. Оно обычно приводит к более компактным программам, содержащим меньше не относящихся к делу переменных, потому что с аргументами можно обращаться как с удобно инициализированными локальными переменными вызванной процедуры. Вот, например, вариант функции power использующей это обстоятельство:</p>
		<blockquote>
			<pre class="cpp">power(x,n)  <span class="comment">/* raise  x  n-th power; n &gt; 0; version 2 */</span>
int x,n;
{
  int p;
  for (p = 1; n > 0; --n)
    p = p * x;
  return (p);
}</pre>
		</blockquote>
		<p>Аргумент n используется как временная переменная; из него вычитается единица до тех пор, пока он не станет нулем. Переменная i здесь больше не нужна. Чтобы ни происходило с n внутри power, это никак не влияет на аргумент, с которым первоначально обратились к функции power.</p>
		<p>При необходимости все же можно добиться, чтобы функция изменила переменную из вызывающей программы. Эта программа должна обеспечить установление адреса переменной (технически, через указатель на переменную), а в вызываемой функции надо описать соответствующий аргумент как указатель и ссылаться к фактической переменной косвенно через него. Мы рассмотрим это подробно в <a href="../chapter5/5.html">главе&nbsp;5</a>.</p>
<p>Когда в качестве аргумента выступает имя массива, то фактическим значением, передаваемым функции, является адрес начала массива. (Здесь нет никакого копирования элементов массива). С помощью индексации и адреса начала функция может найти и изменить любой элемент массива. Это - тема следующего раздела.</p>

	<script  language=JavaScript  src="../footer.js"></script>
	</body>
	
</html>