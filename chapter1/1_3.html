<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>

	<head>
		<meta http-equiv="content-type" content="text/html;charset=windows-1251">
		<meta name="Description" content="K&R, 1st ed., 1978. Russian translation by <unknown>; chm-compiling by Sim&C, Belarus`2006">
		<title>1.3 Оператор for</title>
		<link href="../style.css" rel="stylesheet" type="text/css" media="all">
	</head>

	<body>
	<script  language=JavaScript  src="../header.js"></script>
		<p>Как и можно было ожидать, имеется множество различных способов написания каждой программы. Давайте рассмотрим такой вариант программы перевода температур:</p>
		<blockquote>
			<pre class="cpp">main()  <span class="comment">/* fahrenheit-celsius table */</span>
{
  int fahr;
  for (fahr = 0; fahr &lt;= 300; fahr = fahr + 20)
    printf(&quot;%4d %6.1f\n&quot;, fahr, (5.0/9.0)*(fahr-32.0));
}</pre>
		</blockquote>
		<p>Эта программа выдает те же самые результаты, но выглядит безусловно по-другому. Главное изменение - исключение большинства переменных; осталась только переменная fahr , причем типа int (это сделано для того, чтобы продемонстрировать преобразование %d в функции printf). Нижняя и верхняя границы и размер шага появляются только как константы в операторе for , который сам является новой конструкцией, а выражение, вычисляющее температуру по Цельсию, входит теперь в виде третьего аргумента функции printf , а не в виде отдельного оператора присваивания.</p>
		<p>Последнее изменение является примером вполне общего правила языка C - в любом контексте, в котором допускается использование значения переменной некоторого типа, вы можете использовать выражение этого типа. Так как третий аргумент функции printf должен иметь значение с плавающей точкой, чтобы соответствовать спецификации %6.1f, то в этом месте может встретиться любое выражение плавающего типа.</p>
<p>Сам оператор for - это оператор цикла, обобщающий оператор while. Его функционирование должно стать ясным, если вы сравните его с ранее описанным оператором while. Оператор for содержит три части, разделяемые точкой с запятой. Первая часть</p>

<blockquote><pre>fahr = 0</pre></blockquote>

<p>выполняется один раз перед входом в сам цикл. Вторая часть - проверка, или условие, которое управляет циклом:</p>

<blockquote><pre>fahr &lt;= 300</pre></blockquote>

<p>это условие проверяется и, если оно истинно, то выполняется тело цикла (в данном случае только функция printf). Затем выполняется шаг реинициализации</p>

<blockquote><pre>fahr = fahr + 20</pre></blockquote>

<p>и условие проверяется снова. Цикл завершается, когда это условие становится ложным. Так же, как и в случае оператора while , тело цикла может состоять из одного оператора или из группы операторов, заключенных в фигурные скобки. Инициализирующая и реинициализирующая части могут быть любыми отдельными выражениями.</p>
		<p>Выбор между операторами while и for произволен и основывается на том, что выглядит яснее. Оператор for обычно удобен для циклов, в которых инициализация и реинициализация логически связаны и каждая задается одним оператором, так как в этом случае запись более компактна, чем при использовании оператора while , а операторы управления циклом сосредотачиваются вместе в одном месте.</p>
		<div class="exercise">
			<p><span class="exercisetitle">Упражнение 1-5</span></p>
			<p>Модифицируйте программу перевода температур таким образом, чтобы она печатала таблицу в обратном порядке, т.е. от 300 градусов до 0.</p>
		</div>
		<script  language=JavaScript  src="../footer.js"></script>
	</body>
	
</html>

