<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>

	<head>
		<meta http-equiv="content-type" content="text/html;charset=windows-1251">
		<meta name="Description" content="K&R, 1st ed., 1978. Russian translation by <unknown>; chm-compiling by Sim&C, Belarus`2006">
   		<title>7.3 Форматный вывод - функция printf</title>
		<link href="../style.css" rel="stylesheet" type="text/css" media="all">
	</head>

	<body>
	<script  language=JavaScript  src="../header.js"></script>
	<pre>    Две функции: printf для вывода и scanf для ввода (следу-
ющий раздел) позволяют преобразовывать численные величины в
символьное представление и обратно. Они также позволяют ге-
нерировать и интерпретировать форматные строки. Мы уже всюду
в предыдущих главах неформально использовали функцию printf;
здесь приводится более полное и точное описание. Функция

printf(control, arg1, arg2, ...)

преобразует, определяет формат и печатает свои аргументы в
стандартный вывод под управлением строки control. Управляю-
щая строка содержит два типа объектов: обычные символы, ко-
торые просто копируются в выходной поток, и спецификации
преобразований, каждая из которых вызывает преобразование и
печать очередного аргумента printf.
    Каждая спецификация преобразования начинается с символа
% и заканчивается символом преобразования. Между % и симво-
лом преобразования могут находиться:

- Знак минус, который указывает о выравнивании преобразован-
  ного аргумента по левому краю его поля.
- Строка цифр, задающая минимальную ширину поля. Преобразо-
  ванное число будет напечатано в поле по крайней мере этой
  ширины, а если необходимо, то и в более широком. Если пре-
  образованный аргумент имеет меньше символов, чем указанная
  ширина поля, то он будет дополнен слева (или справа, если
  было указано выравнивание по левому краю)заполняющими сим-
  волами до этой ширины. Заполняющим символом обычно являет-
  ся пробел, а если ширина поля указывается с лидирующим ну-
  лем, то этим символом будет нуль (лидирующий нуль в данном
  случае не означает восьмеричной ширины поля).
- Точка, которая отделяет ширину поля от следующей строки
  цифр.
- Строка цифр (точность), которая указывает максимальное
  число символов строки, которые должны быть напечатаны, или
  число печатаемых справа от десятичной точки цифр для пере-
  менных типа float или double.
- Модификатор длины L, который указывает, что соответствую-
  щий элемент данных имеет тип long, а не int.
     Ниже приводятся символы преобразования и их смысл:

d - аргумент преобразуется к десятичному виду.
o - Аргумент преобразуется в беззнаковую восьмеричную форму
  (без лидирующего нуля).
x - Аргумент преобразуется в беззнаковую шестнадцатеричную
  форму (без лидирующих 0x).
u - Аргумент преобразуется в беззнаковую десятичную форму.
c - Аргумент рассматривается как отдельный символ.
s - Аргумент является строкой: символы строки печатаются до
  тех пор, пока не будет достигнут нулевой символ или не бу-
  дет напечатано количество символов, указанное в специфика-
  ции точности.
e - Аргумент, рассматриваемый как переменная типа float или
  double, преобразуется в десятичную форму в виде
  [-]m.nnnnnne[+-]xx, где длина строки из n определяется
  указанной точностью. Точность по умолчанию равна 6.
f - Аргумент, рассматриваемый как переменная типа float или
  double, преобразуется в десятичную форму в виде
  [-]mmm.nnnnn, где длина строки из n определяется указанной
  точностью. Точность по умолчанию равна 6. Отметим, что эта
  точность не определяет количество печатаемых в формате f
  значащих цифр.
g - Используется или формат %e или %f, какой короче; незна-
  чащие нули не печатаются.

Если идущий за % символ не является символом преобразования,
то печатается сам этот символ; следовательно,символ % можно
напечатать, указав %%.
    Большинство из форматных преобразований очевидно и было
проиллюстрировано в предыдущих главах. Единственным исключе-
нием является то, как точность взаимодействует со строками.
Следующая таблица демонстрирует влияние задания различных
спецификаций на печать &quot;hello, world&quot; (12 символов). Мы по-
местили двоеточия вокруг каждого поля для того, чтобы вы
могли видеть его протяженность.

:%10s:          :hello, world:
:%10-s:         :hello, world:
:%20s:          :    hello, world:
:%-20s:         :hello, world      :
:%20.10s:       :      hello, wor:
:%-20.10s:      :hello, wor      :
:%.10s:         :hello, wor:

    Предостережение: printf использует свой первый аргумент
для определения числа последующих аргументов и их типов. Ес-
ли количество аргументов окажется недостаточным или они бу-
дут иметь несоответственные типы, то возникнет путаница и вы
получите бессмысленные результаты.

Упражнение 7-1
    Напишите программу, которая будет печатать разумным об-
разом произвольный ввод. Как минимум она должна печатать
неграфические символы в восьмеричном или шестнадцатеричном
виде (в соответствии с принятыми у вас обычаями) и склады-
вать длинные строки.</pre>
	<script  language=JavaScript  src="../footer.js"></script>
	</body>
	
</html>