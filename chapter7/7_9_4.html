<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>

	<head>
		<meta http-equiv="content-type" content="text/html;charset=windows-1251">
		<meta name="Description" content="K&R, 1st ed., 1978. Russian translation by <unknown>; chm-compiling by Sim&C, Belarus`2006">
   		<title>7.9.4 Управление памятью</title>
		<link href="../style.css" rel="stylesheet" type="text/css" media="all">
	</head>

	<body>
	<script  language=JavaScript  src="../header.js"></script>
	<pre>    Функция calloc весьма сходна с функцией alloc, использо-
ванной нами в предыдущих главах. В результате обращения

  calloc(n, sizeof(object))

возвращается либо указатель пространства, достаточного для
размещения n объектов указанного размера, либо NULL, если
запрос не может быть удовлетворен. Отводимая память инициа-
лизируется нулевыми значениями.
    Указатель обладает нужным для рассматриваемых объектов
выравниванием, но ему следует приписывать соответствующий
тип, как в

char *calloc();
int *ip;
ip=(int*) calloc(n,sizeof(int));

    Функция cfree(p) освобождает пространство, на которое
указывает &quot;p&quot;, причем указатель &quot;p&quot; певоначально должен быть
получен в результате обращения к calloc. Здесь нет никаких
ограничений на порядок освобождения пространства, но будет
неприятнейшей ошибкой освободить что-нибудь, что не было по-
лучено обращением к calloc.
    Реализация программы распределения памяти, подобной
calloc, в которой размещенные блоки могут освобождаться в
произвольном порядке, продемонстрирована в главе 8.</pre>
	<script  language=JavaScript  src="../footer.js"></script>
	</body>
	
</html>
