<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>

	<head>
		<meta http-equiv="content-type" content="text/html;charset=windows-1251">
		<meta name="Description" content="K&R, 1st ed., 1978. Russian translation by <unknown>; chm-compiling by Sim&C, Belarus`2006">
   		<title>3.2 Операторы и блоки: if - else</title>
		<link href="../style.css" rel="stylesheet" type="text/css" media="all">
	</head>

	<body>
	<script  language=JavaScript  src="../header.js"></script>
<p>Оператор if - else используется при необходимости сделать выбор. Формально синтаксис имеет вид</p>

<blockquote><pre>if (<em>выражение</em>)
  <em>оператор-1</em>
else
  <em>оператор-2</em></pre></blockquote>

<p>где часть else является необязательной. Сначала вычисляется выражение; если оно "истинно" (т.е. значение выражения отлично от нуля), то выполняется оператор-1. Если оно ложно (значение выражения равно нулю), и если есть часть с else, то вместо оператора-1 выполняется оператор-2.</p>
<p>Так как if просто проверяет численное значение выражения, то возможно некоторое сокращение записи. Самой очевидной возможностью является запись</p>

<blockquote><pre>if (выражение)</pre></blockquote>

вместо

<blockquote><pre>if (выражение !=0)</pre></blockquote>

<p>иногда такая запись является ясной и естественной, но временами она становится загадочной.</p>
<p>То, что часть else в конструкции if - else является необязательной, приводит к двусмысленности в случае, когда else опускается во вложенной последовательности операторов if. Эта неоднозначность разрешается обычным образом - else связывается с ближайшим предыдущим if, не содержащим else. Например, в</p>

<blockquote><pre>if ( n > 0 )
  if( A &gt; B )
    Z = A;
  else
    Z = B;</pre></blockquote>

<p>конструкция else относится к внутреннему if, как мы и показали, сдвинув else под соответствующий if. Если это не то, что вы хотите, то для получения нужного соответствия необходимо использовать фигурные скобки:</p>

<blockquote><pre>if (n > 0)  {
  if (A > B)
    Z = A;
}
else
  Z = B;</pre></blockquote>

<p>Tакая двусмысленность особенно пагубна в ситуациях типа</p>

<blockquote><pre>if (n > 0)
  for (i = 0; i &lt; n; i++)
  if (s[i] > 0) {
    printf("...");
    return(i);
  }
else   /* wrong */
  printf("error - n is zero\n");</pre></blockquote>

<p>Запись else под if ясно показывает, чего вы хотите, но компилятор не получит соответствующего указания и свяжет else с внутренним if. Ошибки такого рода очень трудно обнаруживаются.</p>
<p>Между прочим, обратите внимание, что в</p>

<blockquote><pre>if (a > b)
  z = a;
else
  z = b;</pre></blockquote>

<p>после z=a стоит точка с запятой. Дело в том, что согласно грамматическим правилам за if должен следовать оператор, а выражение типа z=a, являющееся оператором, всегда заканчивается точкой с запятой.</p>

	<script  language=JavaScript  src="../footer.js"></script>
	</body>
	
</html>