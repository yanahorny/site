<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>

	<head>
		<meta http-equiv="content-type" content="text/html;charset=windows-1251">
		<meta name="Description" content="K&R, 1st ed., 1978. Russian translation by <unknown>; chm-compiling by Sim&C, Belarus`2006">
   		<title>3.9 ќператор goto и метки</title>
		<link href="../style.css" rel="stylesheet" type="text/css" media="all">
	</head>

	<body>
	<script  language=JavaScript  src="../header.js"></script>
<p>¬ €зыке C предусмотрен и оператор goto, которым бесконечно злоупотребл€ют, и метки дл€ ветвлени€. — формальной точки зрени€ оператор goto никогда не €вл€етс€ необходимым, и на практике почти всегда можно обойтись без него. ћы не использовали goto в этой книге.</p>
<p>“ем не менее, мы укажем несколько ситуаций, где оператор goto может найти свое место. Ќаиболее характерным €вл€етс€ его использование тогда, когда нужно прервать выполнение в некоторой глубоко вложенной структуре, например, выйти сразу из двух циклов. «десь нельз€ непосредственно использовать оператор break, так как он прерывает только самый внутренний цикл. ѕоэтому:</p>

<blockquote><pre>for ( ... )
  for ( ... )    {
    ...
    if (disaster)
      goto error;
  }
...
error:
   clean up the mess</pre></blockquote>

<p>≈сли программа обработки ошибок нетривиальна и ошибки могут возникать в нескольких местах, то така€ организаци€ оказываетс€ удобной. ћетка имеет такую же форму, что и им€ переменной, и за ней всегда следует двоеточие. ћетка может быть приписана к любому оператору той же функции, в которой находитс€ оператор goto.</p>
<p>¬ качестве другого примера рассмотрим задачу нахождени€ первого отрицательного элемента в двумерном массиве. (ћногомерные массивы рассматриваютс€ в <a href="../chapter5/5.html">главе&nbsp;5</a>). ¬от одна из возможностей:</p>

<blockquote><pre>for (i = 0; i &lt; n; i++)
  for (j = 0; j &lt; m; j++)
    if (v[i][j] &lt; 0)
      goto found;
    /* didn't find */
...
found:
    /* found one at position i, j */
  ...</pre></blockquote>

<p>ѕрограмма, использующа€ оператор goto, всегда может быть написана без него, хот€, возможно, за счет повторени€ некоторых проверок и введени€ дополнительных переменных. Ќапример, программа поиска в массиве примет вид:</p>

<blockquote><pre>found = 0;
for (i = 0; i &lt; n &amp;&amp; !found; i++)
  for (j = 0; j &lt; m &amp;&amp; !found; j++)
    found = v[i][j] &lt; 0;
if (found)
  /* it was at i-1, j-1 */
  ...
else
  /* not found */
  ...</pre></blockquote>

<p>’от€ мы не €вл€емс€ в этом вопросе догматиками, нам все же кажетс€, что если и нужно использовать оператор goto, то весьма умеренно.</p>

	<script  language=JavaScript  src="../footer.js"></script>
	</body>
	
</html>